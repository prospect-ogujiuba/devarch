# =================================================================
# DEVELOPMENT ARCHITECTURE ENVIRONMENT CONFIGURATION
# =================================================================
# This file contains all environment variables for the development
# architecture. Update values as needed for your environment.

# =================================================================
# GLOBAL SETTINGS
# =================================================================
COMPOSE_PROJECT_NAME=dev-arch
NETWORK_NAME=dev-arch-network

# Default Admin Credentials (Change these!)
ADMIN_USER=admin
ADMIN_PASSWORD=DevArch2024!
ADMIN_EMAIL=admin@devarch.local

# Timezone Configuration
TZ=America/Toronto

# =================================================================
# SECURITY SETTINGS
# =================================================================
# JWT and Session Secrets (Generate your own!)
JWT_SECRET=your-super-secure-jwt-secret-change-this-immediately
SESSION_SECRET=your-super-secure-session-secret-change-this-too

# SSL Configuration
SSL_COUNTRY=CA
SSL_STATE=Ontario
SSL_CITY=Kanata
SSL_ORG=DevArch
SSL_DOMAIN=*.test

# =================================================================
# DATABASE CONFIGURATIONS
# =================================================================

# MariaDB/MySQL Configuration
MYSQL_HOST=mariadb
MYSQL_PORT=3306
MYSQL_ROOT_PASSWORD=DevArch_MySQL_2024!
MYSQL_DATABASE=devarch
MYSQL_USER=devarch_user
MYSQL_PASSWORD=DevArch_User_2024!

# PostgreSQL Configuration
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=devarch
POSTGRES_USER=devarch_user
POSTGRES_PASSWORD=DevArch_Postgres_2024!
POSTGRES_MULTIPLE_DATABASES=devarch,grafana,metabase,keycloak

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=DevArch_Redis_2024!

# MongoDB Configuration (Optional)
MONGO_HOST=mongodb
MONGO_PORT=27017
MONGO_INITDB_ROOT_USERNAME=root
MONGO_INITDB_ROOT_PASSWORD=DevArch_Mongo_2024!
MONGO_INITDB_DATABASE=devarch

# =================================================================
# WEB SERVER CONFIGURATION
# =================================================================

# Nginx Proxy Manager
NPM_DB_MYSQL_HOST=${MYSQL_HOST}
NPM_DB_MYSQL_PORT=${MYSQL_PORT}
NPM_DB_MYSQL_USER=${MYSQL_USER}
NPM_DB_MYSQL_PASSWORD=${MYSQL_PASSWORD}
NPM_DB_MYSQL_NAME=nginx_proxy_manager

# PHP Configuration
PHP_VERSION=8.3
PHP_MEMORY_LIMIT=512M
PHP_MAX_EXECUTION_TIME=300
PHP_UPLOAD_MAX_FILESIZE=64M
PHP_POST_MAX_SIZE=64M

# Node.js Configuration
NODE_VERSION=20
NPM_CONFIG_UPDATE_NOTIFIER=false

# Python Configuration
PYTHON_VERSION=3.11

# =================================================================
# DEVELOPMENT TOOLS
# =================================================================

# Adminer Configuration
ADMINER_DEFAULT_SERVER=${MYSQL_HOST}
ADMINER_DESIGN=pepa-linha-dark

# phpMyAdmin Configuration
PMA_HOST=${MYSQL_HOST}
PMA_PORT=${MYSQL_PORT}
PMA_USER=${MYSQL_USER}
PMA_PASSWORD=${MYSQL_PASSWORD}

# MongoDB Express
ME_CONFIG_MONGODB_SERVER=${MONGO_HOST}
ME_CONFIG_MONGODB_PORT=${MONGO_PORT}
ME_CONFIG_MONGODB_ENABLE_ADMIN=true
ME_CONFIG_MONGODB_AUTH_DATABASE=admin
ME_CONFIG_MONGODB_AUTH_USERNAME=${MONGO_INITDB_ROOT_USERNAME}
ME_CONFIG_MONGODB_AUTH_PASSWORD=${MONGO_INITDB_ROOT_PASSWORD}
ME_CONFIG_BASICAUTH_USERNAME=${ADMIN_USER}
ME_CONFIG_BASICAUTH_PASSWORD=${ADMIN_PASSWORD}

# =================================================================
# MAIL CONFIGURATION
# =================================================================

# Mailpit Configuration
MAILPIT_SMTP_PORT=1025
MAILPIT_HTTP_PORT=8025
MAILPIT_MAX_MESSAGES=5000
MAILPIT_DATA_FILE=/data/mailpit.db
MAILPIT_SMTP_AUTH_ACCEPT_ANY=1
MAILPIT_SMTP_AUTH_ALLOW_INSECURE=1

# Application Mail Settings (for apps to use)
MAIL_MAILER=smtp
MAIL_HOST=mailpit
MAIL_PORT=${MAILPIT_SMTP_PORT}
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_ENCRYPTION=
MAIL_FROM_ADDRESS=noreply@devarch.local
MAIL_FROM_NAME="DevArch Environment"

# =================================================================
# MONITORING & ANALYTICS
# =================================================================

# Grafana Configuration
GF_SECURITY_ADMIN_USER=${ADMIN_USER}
GF_SECURITY_ADMIN_PASSWORD=${ADMIN_PASSWORD}
GF_INSTALL_PLUGINS=grafana-clock-panel,grafana-simple-json-datasource
GF_DATABASE_TYPE=postgres
GF_DATABASE_HOST=${POSTGRES_HOST}:${POSTGRES_PORT}
GF_DATABASE_NAME=grafana
GF_DATABASE_USER=${POSTGRES_USER}
GF_DATABASE_PASSWORD=${POSTGRES_PASSWORD}

# Prometheus Configuration
PROMETHEUS_RETENTION_TIME=15d
PROMETHEUS_STORAGE_PATH=/prometheus

# =================================================================
# APPLICATION FRAMEWORKS
# =================================================================

# Laravel Configuration
APP_NAME="DevArch Laravel"
APP_ENV=local
APP_DEBUG=true
APP_URL=https://laravel.test
APP_KEY=base64:your-laravel-app-key-here

DB_CONNECTION=mysql
DB_HOST=${MYSQL_HOST}
DB_PORT=${MYSQL_PORT}
DB_DATABASE=${MYSQL_DATABASE}
DB_USERNAME=${MYSQL_USER}
DB_PASSWORD=${MYSQL_PASSWORD}

# WordPress Configuration
WORDPRESS_DB_HOST=${MYSQL_HOST}:${MYSQL_PORT}
WORDPRESS_DB_NAME=wordpress
WORDPRESS_DB_USER=${MYSQL_USER}
WORDPRESS_DB_PASSWORD=${MYSQL_PASSWORD}
WORDPRESS_TABLE_PREFIX=wp_

# Django Configuration
DJANGO_SECRET_KEY=your-django-secret-key-change-this
DJANGO_DEBUG=True
DJANGO_ALLOWED_HOSTS=*.test,localhost,127.0.0.1
DATABASE_URL=postgres://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/django

# Next.js Configuration
NEXTAUTH_SECRET=${JWT_SECRET}
NEXTAUTH_URL=https://nextjs.test

# =================================================================
# PORT MAPPINGS
# =================================================================
# These ports are mapped to localhost for direct access

# Core Services
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443
NGINX_ADMIN_PORT=81

# Databases
MYSQL_EXTERNAL_PORT=3306
POSTGRES_EXTERNAL_PORT=5432
REDIS_EXTERNAL_PORT=6379
MONGO_EXTERNAL_PORT=27017

# Development Tools
ADMINER_PORT=8080
PHPMYADMIN_PORT=8081
MONGO_EXPRESS_PORT=8082
MAILPIT_PORT=8025

# Monitoring
GRAFANA_PORT=3000
PROMETHEUS_PORT=9090

# Runtime Services
PHP_FPM_PORT=9000

# =================================================================
# VOLUME CONFIGURATIONS
# =================================================================

# Application Data
APPS_PATH=./apps
CONFIG_PATH=./config
SCRIPTS_PATH=./scripts

# Persistent Data Volumes
MYSQL_DATA_PATH=/var/lib/mysql
POSTGRES_DATA_PATH=/var/lib/postgresql/data
REDIS_DATA_PATH=/data
MONGO_DATA_PATH=/data/db

# Log Paths
NGINX_LOGS_PATH=./logs/nginx
PHP_LOGS_PATH=./logs/php

# =================================================================
# DEVELOPMENT FLAGS
# =================================================================

# Enable/Disable Services
ENABLE_MONITORING=true
ENABLE_AI_SERVICES=false
ENABLE_MONGODB=false
ENABLE_ELASTICSEARCH=false

# Development Mode Settings
DEV_MODE=true
DEBUG_MODE=true
XDEBUG_MODE=develop,debug
XDEBUG_CLIENT_HOST=host.docker.internal

# Hot Reload Settings
VITE_HOST=0.0.0.0
VITE_PORT=5173
WEBPACK_DEV_SERVER_HOST=0.0.0.0

# =================================================================
# SECURITY NOTES
# =================================================================
# 1. Change all default passwords before production use
# 2. Generate new JWT and session secrets
# 3. Update SSL certificate information
# 4. Review and adjust database credentials
# 5. Consider using Docker secrets for sensitive data