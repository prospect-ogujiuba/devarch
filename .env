# =============================================================================
# MICROSERVICES ENVIRONMENT CONFIGURATION
# =============================================================================
# This file contains environment variables for all microservices
# Update sensitive values for production use

# =============================================================================
# GLOBAL ADMIN CREDENTIALS
# =============================================================================
ADMIN_USER=admin
ADMIN_PASSWORD=123456
ADMIN_PASSWORD_2=12345678
ADMIN_EMAIL=admin@example.com

# =============================================================================
# DATABASE SERVICES
# =============================================================================

# --- MariaDB Configuration (Port: 8501) ---
MARIADB_HOST=mariadb
MARIADB_PORT=3306
MARIADB_ROOT_PASSWORD=123456
MARIADB_DATABASE=mariadb
MARIADB_USER=root
MARIADB_PASSWORD=123456

# --- MySQL Configuration (Port: 8505) ---
MYSQL_HOST=mysql
MYSQL_PORT=3306
MYSQL_ROOT_PASSWORD=123456
MYSQL_DATABASE=mysql
# Note: Don't set MYSQL_USER=root for MySQL 9.3+
# Use MYSQL_ROOT_PASSWORD for root access

# --- PostgreSQL Configuration (Port: 8502) ---
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=123456
POSTGRES_MULTIPLE_DATABASES=postgres,metabase,nocodb

# --- MongoDB Configuration (Port: 8503) ---
MONGO_INITDB_ROOT_USERNAME=root
MONGO_INITDB_ROOT_PASSWORD=123456
MONGO_INITDB_DATABASE=admin

# --- Redis Configuration (Port: 8504) ---
# Redis uses default configuration, no auth required

# =============================================================================
# DATABASE MANAGEMENT TOOLS
# =============================================================================

# --- Adminer Configuration (Port: 8082) ---
ADMINER_DEFAULT_SERVER=${MARIADB_HOST}

# --- phpMyAdmin Configuration (Port: 8083) ---
PMA_HOST=${MARIADB_HOST}

# --- Mongo Express Configuration (Port: 8084) ---
ME_CONFIG_MONGODB_SERVER=mongodb
ME_CONFIG_MONGODB_PORT=27017
ME_CONFIG_MONGODB_ENABLE_ADMIN=true
ME_CONFIG_MONGODB_AUTH_DATABASE=admin
ME_CONFIG_MONGODB_AUTH_USERNAME=root
ME_CONFIG_MONGODB_AUTH_PASSWORD=123456
ME_CONFIG_BASICAUTH_USERNAME=admin
ME_CONFIG_BASICAUTH_PASSWORD=123456
ME_CONFIG_SITE_PORT=8081
ME_CONFIG_MONGODB_URL=mongodb://mongodb:27017

# --- Metabase Configuration (Port: 8085) ---
MB_DB_TYPE=postgres
MB_DB_DBNAME=metabase
MB_DB_PORT=${POSTGRES_PORT}
MB_DB_USER=${POSTGRES_USER}
MB_DB_PASS=${POSTGRES_PASSWORD}
MB_DB_HOST=${POSTGRES_HOST}
MB_DB_FILE=/metabase-data/metabase.db

# --- pgAdmin Configuration (Port: 8087) ---
PGADMIN_DEFAULT_EMAIL=${ADMIN_EMAIL}
PGADMIN_DEFAULT_PASSWORD=${ADMIN_PASSWORD}

# =============================================================================
# BACKEND SERVICES
# =============================================================================

# --- .NET Configuration (Ports: 8010 HTTP, 8011 HTTPS) ---
ASPNETCORE_ENVIRONMENT=Development
ASPNETCORE_URLS="http://+:80;https://+:443"

# --- Go Configuration (Port: 8020) ---
GO_APP_PORT=8080

# --- Node.js Configuration (Port: 8030) ---
EXPRESS_APP_PORT=3000
EXPRESS_APP_JWT_SECRET=your-jwt-secret-key-here
EXPRESS_APP_SESSION_SECRET=your-session-secret-key-here

# --- Python Configuration (Port: 8040) ---
PYTHON_APP_PORT=8000

# --- PHP Configuration (Ports: 8000, 5173) ---
PHP_MEMORY_LIMIT=512M

# =============================================================================
# ANALYTICS & MONITORING
# =============================================================================

# --- Elasticsearch Configuration (Ports: 9130 HTTP, 9131 Transport) ---
ELASTIC_PASSWORD=${ADMIN_PASSWORD}

# --- Kibana Configuration (Port: 9120) ---
# Uses Elasticsearch connection automatically

# --- Logstash Configuration (Ports: 5000 TCP, 5044 Beats, 9600 API) ---
# Uses Elasticsearch connection automatically

# --- Grafana Configuration (Port: 9001) ---
GF_SECURITY_ADMIN_USER=${ADMIN_USER}
GF_SECURITY_ADMIN_PASSWORD=${ADMIN_PASSWORD}
GF_PATHS_DATA=/var/lib/grafana
GF_PATHS_LOGS=/var/log/grafana

# --- Prometheus Configuration (Port: 9090) ---
# Uses configuration files in ../config/prometheus/

# --- Matomo Analytics Configuration (Port: 9010) ---
MATOMO_DATABASE_HOST=${MARIADB_HOST}
MATOMO_DATABASE_ADAPTER=MYSQL
MATOMO_DATABASE_TABLES_PREFIX=matomo_
MATOMO_DATABASE_USERNAME=${MARIADB_USER}
MATOMO_DATABASE_PASSWORD=${MARIADB_PASSWORD}
MATOMO_DATABASE_DBNAME=matomo

# =============================================================================
# PROXY & NETWORKING
# =============================================================================

# --- Nginx Proxy Manager Configuration (Ports: 80, 443, 81) ---
DB_MYSQL_HOST=${MARIADB_HOST}
DB_MYSQL_PORT=${MARIADB_PORT}
DB_MYSQL_USER=root
DB_MYSQL_PASSWORD=${MARIADB_PASSWORD}
DB_MYSQL_NAME=npm
INITIAL_ADMIN_EMAIL=${ADMIN_EMAIL}
INITIAL_ADMIN_PASSWORD=${ADMIN_PASSWORD}

# =============================================================================
# MAIL SERVICES
# =============================================================================

# --- Mailpit Configuration (Ports: 9201 SMTP, 9200 Web UI) ---
MP_MAX_MESSAGES=5000
MP_DATABASE=/data/mailpit.db
MP_SMTP_AUTH_ACCEPT_ANY=1
MP_SMTP_AUTH_ALLOW_INSECURE=1

# =============================================================================
# PROJECT MANAGEMENT
# =============================================================================

# --- Gitea Configuration (Ports: 9210 Web, 2222 SSH) ---
# Uses default configuration with database auto-setup

# =============================================================================
# DEVELOPMENT & INTEGRATION
# =============================================================================

# --- GitHub Configuration ---
# TODO: Replace with your actual GitHub token for production
GITHUB_TOKEN=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
GITHUB_USER=prospect-ogujiuba

# =============================================================================
# PRODUCTION NOTES
# =============================================================================
# Before deploying to production, update the following:
# 1. Change all passwords from default "123456"
# 2. Generate secure JWT secrets for Express app
# 3. Update GitHub token with proper permissions
# 4. Set appropriate ASPNETCORE_ENVIRONMENT for .NET
# 5. Configure proper hostnames instead of "*.test" domains
# 6. Review and update all admin credentials
# 7. Consider using Docker secrets for sensitive values