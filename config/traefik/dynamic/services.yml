# Traefik Dynamic Configuration for Microservices
http:
  routers:
    # Database Management Tools
    adminer:
      rule: "Host(`adminer.test`)"
      service: "adminer"
      tls: {}
    
    phpmyadmin:
      rule: "Host(`phpmyadmin.test`)"
      service: "phpmyadmin"
      tls: {}
    
    mongo-express:
      rule: "Host(`mongodb.test`)"
      service: "mongo-express"
      tls: {}
    
    metabase:
      rule: "Host(`metabase.test`)"
      service: "metabase"
      tls: {}
    
    nocodb:
      rule: "Host(`nocodb.test`)"
      service: "nocodb"
      tls: {}
    
    pgadmin:
      rule: "Host(`pgadmin.test`)"
      service: "pgadmin"
      tls: {}
    
    # Analytics & Monitoring
    grafana:
      rule: "Host(`grafana.test`)"
      service: "grafana"
      tls: {}
    
    prometheus:
      rule: "Host(`prometheus.test`)"
      service: "prometheus"
      tls: {}
    
    kibana:
      rule: "Host(`kibana.test`)"
      service: "kibana"
      tls: {}
    
    elasticsearch:
      rule: "Host(`elasticsearch.test`)"
      service: "elasticsearch"
      tls: {}
    
    matomo:
      rule: "Host(`matomo.test`)"
      service: "matomo"
      tls: {}
    
    # AI & Workflow Services
    n8n:
      rule: "Host(`n8n.test`)"
      service: "n8n"
      tls: {}
    
    langflow:
      rule: "Host(`langflow.test`)"
      service: "langflow"
      tls: {}
    
    # Mail Services
    mailpit:
      rule: "Host(`mailpit.test`)"
      service: "mailpit"
      tls: {}
    
    # Project Management
    gitea:
      rule: "Host(`gitea.test`)"
      service: "gitea"
      tls: {}
    
    # Backend Services
    dotnet:
      rule: "Host(`dotnet.test`)"
      service: "dotnet"
      tls: {}
    
    go:
      rule: "Host(`go.test`)"
      service: "go"
      tls: {}
    
    node:
      rule: "Host(`node.test`)"
      service: "node"
      tls: {}
    
    php:
      rule: "Host(`php.test`)"
      service: "php"
      tls: {}
    
    python:
      rule: "Host(`python.test`)"
      service: "python"
      tls: {}

  services:
    # Database Management Tools
    adminer:
      loadBalancer:
        servers:
          - url: "http://adminer:8080"
    
    phpmyadmin:
      loadBalancer:
        servers:
          - url: "http://phpmyadmin:80"
    
    mongo-express:
      loadBalancer:
        servers:
          - url: "http://mongo-express:8081"
    
    metabase:
      loadBalancer:
        servers:
          - url: "http://metabase:3000"
    
    nocodb:
      loadBalancer:
        servers:
          - url: "http://nocodb:8080"
    
    pgadmin:
      loadBalancer:
        servers:
          - url: "http://pgadmin:80"
    
    # Analytics & Monitoring
    grafana:
      loadBalancer:
        servers:
          - url: "http://grafana:3000"
    
    prometheus:
      loadBalancer:
        servers:
          - url: "http://prometheus:9090"
    
    kibana:
      loadBalancer:
        servers:
          - url: "http://kibana:5601"
    
    elasticsearch:
      loadBalancer:
        servers:
          - url: "http://elasticsearch:9200"
    
    matomo:
      loadBalancer:
        servers:
          - url: "http://matomo:80"
    
    # AI & Workflow Services
    n8n:
      loadBalancer:
        servers:
          - url: "http://n8n:5678"
    
    langflow:
      loadBalancer:
        servers:
          - url: "http://langflow:7860"
    
    # Mail Services
    mailpit:
      loadBalancer:
        servers:
          - url: "http://mailpit:8025"
    
    # Project Management
    gitea:
      loadBalancer:
        servers:
          - url: "http://gitea:3000"
    
    # Backend Services
    dotnet:
      loadBalancer:
        servers:
          - url: "http://dotnet:80"
    
    go:
      loadBalancer:
        servers:
          - url: "http://go:8080"
    
    node:
      loadBalancer:
        servers:
          - url: "http://node:3000"
    
    php:
      loadBalancer:
        servers:
          - url: "http://php:8000"
    
    python:
      loadBalancer:
        servers:
          - url: "http://python:8000"

# TLS Configuration
tls:
  certificates:
    - certFile: "/ssl/cert.pem"
      keyFile: "/ssl/key.pem"
