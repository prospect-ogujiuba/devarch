# =============================================================================
# KEYCLOAK CONFIGURATION
# =============================================================================
# Production-ready configuration for Keycloak in microservices environment

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Use PostgreSQL as the database backend
db=postgres
db-url-host=postgres
db-url-port=5432
db-url-database=keycloak
db-username=keycloak_user
db-password=123456

# Connection pool settings
db-pool-initial-size=5
db-pool-min-size=5
db-pool-max-size=20

# =============================================================================
# HOSTNAME CONFIGURATION
# =============================================================================
# Configure hostname for proxy environments
hostname=keycloak.test
hostname-strict=false
hostname-strict-https=false

# Proxy settings for reverse proxy environments
proxy=edge
proxy-headers=forwarded|xforwarded

# =============================================================================
# HTTP/HTTPS CONFIGURATION
# =============================================================================
# HTTP settings
http-enabled=true
http-host=0.0.0.0
http-port=8080
http-relative-path=/

# HTTPS settings
https-port=8443

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# Enable metrics and health endpoints
health-enabled=true
metrics-enabled=true

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================
# Cache settings
cache=ispn
cache-stack=kubernetes

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Enable development features (disable in production)
features=token-exchange,admin-fine-grained-authz,recovery-codes,update-email

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
log=console
log-level=INFO
log-console-color=true

# =============================================================================
# THEME CONFIGURATION
# =============================================================================
spi-theme-static-max-age=-1
spi-theme-cache-themes=false
spi-theme-cache-templates=false